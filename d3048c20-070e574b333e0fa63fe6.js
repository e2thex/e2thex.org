(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"Q/jD":function(e,t,n){"use strict";n.r(t),n.d(t,"Editor",(function(){return R})),n.d(t,"Element",(function(){return _})),n.d(t,"Location",(function(){return T})),n.d(t,"Node",(function(){return q})),n.d(t,"Operation",(function(){return M})),n.d(t,"Path",(function(){return V})),n.d(t,"PathRef",(function(){return J})),n.d(t,"Point",(function(){return U})),n.d(t,"PointRef",(function(){return Z})),n.d(t,"Range",(function(){return Y})),n.d(t,"RangeRef",(function(){return H})),n.d(t,"Span",(function(){return S})),n.d(t,"Text",(function(){return $})),n.d(t,"Transforms",(function(){return ce})),n.d(t,"createEditor",(function(){return le}));var r=n("rePB"),a=n("KQm4"),o=n("o0o1"),i=n.n(o),s=(n("ls82"),n("ODXe")),c=n("RH01"),u=n("5UaS"),f=n("V/h/");function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=new WeakMap,g=new WeakMap,b=new WeakMap,m=new WeakMap,O=new WeakMap,y=new WeakMap,w=/\s/,x=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,j=/['\u2018\u2019]/,k=function(e){for(var t=0,n=null,r=e.charCodeAt(0);r;)if(A(r)){var a=F(r,e,t);if("SURR"===n||"BMP"===n)break;t+=2,n=a?"MOD":"SURR",r=e.charCodeAt(t)}else if(8205!==r)if(B(r)){if(n&&"ZWJ"!==n&&"VAR"!==n)break;t+=1,n="BMP",r=e.charCodeAt(t)}else{if(!N(r)){if("MOD"===n){t+=1;break}break}if(n&&"ZWJ"!==n)break;t+=1,n="VAR",r=e.charCodeAt(t)}else t+=1,n="ZWJ",r=e.charCodeAt(t);return t||1},P=function(e){for(var t,n=0,r=0,a=!1;t=e.charAt(r);){var o=k(t);t=e.slice(r,r+o);var i=e.slice(r+o);if(E(t,i))a=!0,n+=o;else{if(a)break;n+=o}r+=o}return n},E=function e(t,n){if(w.test(t))return!1;if(j.test(t)){var r=n.charAt(0),a=k(r);if(e(r=n.slice(0,a),n.slice(a)))return!0}return!x.test(t)},A=function(e){return 55296<=e&&e<=57343},F=function(e,t,n){if(55356===e){var r=t.charCodeAt(n+1);return r<=57343&&r>=57339}return!1},N=function(e){return e<=65039&&e>=65024},B=function(e){return 10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={above:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.voids,r=void 0!==n&&n,a=t.mode,o=void 0===a?"lowest":a,i=t.at,c=void 0===i?e.selection:i,u=t.match;if(c){var f,d=R.path(e,c),h="lowest"===o,v=l(R.levels(e,{at:d,voids:r,match:u,reverse:h}));try{for(v.s();!(f=v.n()).done;){var p=Object(s.a)(f.value,2),g=p[0],b=p[1];if(!$.isText(g)&&!V.equals(d,b))return[g,b]}}catch(m){v.e(m)}finally{v.f()}}},addMark:function(e,t,n){e.addMark(t,n)},after:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=R.point(e,t,{edge:"end"}),i=R.end(e,[]),s={anchor:o,focus:i},c=a.distance,u=void 0===c?1:c,f=0,d=l(R.positions(e,D({},a,{at:s})));try{for(d.s();!(r=d.n()).done;){var h=r.value;if(f>u)break;0!==f&&(n=h),f++}}catch(v){d.e(v)}finally{d.f()}return n},before:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=R.start(e,[]),i=R.point(e,t,{edge:"start"}),s={anchor:o,focus:i},c=a.distance,u=void 0===c?1:c,f=0,d=l(R.positions(e,D({},a,{at:s,reverse:!0})));try{for(d.s();!(r=d.n()).done;){var h=r.value;if(f>u)break;0!==f&&(n=h),f++}}catch(v){d.e(v)}finally{d.f()}return n},deleteBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.unit,r=void 0===n?"character":n;e.deleteBackward(r)},deleteForward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.unit,r=void 0===n?"character":n;e.deleteForward(r)},deleteFragment:function(e){e.deleteFragment()},edges:function(e,t){return[R.start(e,t),R.end(e,t)]},end:function(e,t){return R.point(e,t,{edge:"end"})},first:function(e,t){var n=R.path(e,t,{edge:"start"});return R.node(e,n)},fragment:function(e,t){var n=R.range(e,t),r=q.fragment(e,n);return r},hasBlocks:function(e,t){return t.children.some((function(t){return R.isBlock(e,t)}))},hasInlines:function(e,t){return t.children.some((function(t){return $.isText(t)||R.isInline(e,t)}))},hasTexts:function(e,t){return t.children.every((function(e){return $.isText(e)}))},insertBreak:function(e){e.insertBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return _.isElement(t)&&!e.isInline(t)},isEditor:function(e){return Object(c.a)(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||Object(c.a)(e.marks))&&(null===e.selection||Y.isRange(e.selection))&&q.isNodeList(e.children)&&M.isOperationList(e.operations)},isEnd:function(e,t,n){var r=R.end(e,n);return U.equals(t,r)},isEdge:function(e,t,n){return R.isStart(e,t,n)||R.isEnd(e,t,n)},isEmpty:function(e,t){var n=t.children,r=Object(s.a)(n,1)[0];return 0===n.length||1===n.length&&$.isText(r)&&""===r.text&&!e.isVoid(t)},isInline:function(e,t){return _.isElement(t)&&e.isInline(t)},isNormalizing:function(e){var t=b.get(e);return void 0===t||t},isStart:function(e,t,n){if(0!==t.offset)return!1;var r=R.start(e,n);return U.equals(t,r)},isVoid:function(e,t){return _.isElement(t)&&e.isVoid(t)},last:function(e,t){var n=R.path(e,t,{edge:"end"});return R.node(e,n)},leaf:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=R.path(e,t,n),a=q.leaf(e,r);return[a,r]},levels:i.a.mark((function(e){var t,n,r,a,o,c,u,f,d,h,v,p,g,b,m,O=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=O.length>1&&void 0!==O[1]?O[1]:{},n=t.at,r=void 0===n?e.selection:n,a=t.reverse,o=void 0!==a&&a,c=t.voids,u=void 0!==c&&c,null==(f=t.match)&&(f=function(){return!0}),r){i.next=6;break}return i.abrupt("return");case 6:d=[],h=R.path(e,r),v=l(q.levels(e,h)),i.prev=9,v.s();case 11:if((p=v.n()).done){i.next=20;break}if(g=Object(s.a)(p.value,2),b=g[0],m=g[1],f(b)){i.next=15;break}return i.abrupt("continue",18);case 15:if(d.push([b,m]),u||!R.isVoid(e,b)){i.next=18;break}return i.abrupt("break",20);case 18:i.next=11;break;case 20:i.next=25;break;case 22:i.prev=22,i.t0=i.catch(9),v.e(i.t0);case 25:return i.prev=25,v.f(),i.finish(25);case 28:return o&&d.reverse(),i.delegateYield(d,"t1",30);case 30:case"end":return i.stop()}}),d,null,[[9,22,25,28]])})),marks:function(e){var t=e.marks,n=e.selection;if(!n)return null;if(t)return t;if(Y.isExpanded(n)){var r=R.nodes(e,{match:$.isText}),a=Object(s.a)(r,1)[0];return a?v(Object(s.a)(a,1)[0],["text"]):{}}var o=n.anchor,i=o.path,c=R.leaf(e,i),u=Object(s.a)(c,1)[0];if(0===o.offset){var f=R.previous(e,{at:i,match:$.isText}),l=R.above(e,{match:function(t){return R.isBlock(e,t)}});if(f&&l){var d=Object(s.a)(f,2),h=d[0],p=d[1],g=Object(s.a)(l,2)[1];V.isAncestor(g,p)&&(u=h)}}return v(u,["text"])},next:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,a=t.voids,o=void 0!==a&&a,i=t.match,c=t.at,u=void 0===c?e.selection:c;if(u){var f=R.last(e,u),l=Object(s.a)(f,2),d=l[1],h=R.last(e,[]),v=Object(s.a)(h,2),p=v[1],g=[d,p];if(V.isPath(u)&&0===u.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(V.isPath(u)){var b=R.parent(e,u),m=Object(s.a)(b,1),O=m[0];i=function(e){return O.children.includes(e)}}else i=function(){return!0};var y=R.nodes(e,{at:g,match:i,mode:r,voids:o}),w=Object(s.a)(y,2),x=w[1];return x}},node:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=R.path(e,t,n),a=q.get(e,r);return[a,r]},nodes:i.a.mark((function e(t){var n,r,a,o,c,u,f,d,h,v,p,g,b,m,O,y,w,x,j,k,P,E,A,F,N,B,C=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=C.length>1&&void 0!==C[1]?C[1]:{},r=n.at,a=void 0===r?t.selection:r,o=n.mode,c=void 0===o?"all":o,u=n.universal,f=void 0!==u&&u,d=n.reverse,h=void 0!==d&&d,v=n.voids,p=void 0!==v&&v,(g=n.match)||(g=function(){return!0}),a){e.next=6;break}return e.abrupt("return");case 6:S.isSpan(a)?(b=a[0],m=a[1]):(O=R.path(t,a,{edge:"start"}),y=R.path(t,a,{edge:"end"}),b=h?y:O,m=h?O:y),w=q.nodes(t,{reverse:h,from:b,to:m,pass:function(e){var n=Object(s.a)(e,1)[0];return!p&&R.isVoid(t,n)}}),x=[],k=l(w),e.prev=10,k.s();case 12:if((P=k.n()).done){e.next=37;break}if(E=Object(s.a)(P.value,2),A=E[0],F=E[1],N=j&&0===V.compare(F,j[1]),"highest"!==c||!N){e.next=17;break}return e.abrupt("continue",35);case 17:if(g(A)){e.next=23;break}if(!f||N||!$.isText(A)){e.next=22;break}return e.abrupt("return");case 22:return e.abrupt("continue",35);case 23:if("lowest"!==c||!N){e.next=26;break}return j=[A,F],e.abrupt("continue",35);case 26:if(!(B="lowest"===c?j:[A,F])){e.next=34;break}if(!f){e.next=32;break}x.push(B),e.next=34;break;case 32:return e.next=34,B;case 34:j=[A,F];case 35:e.next=12;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(10),k.e(e.t0);case 42:return e.prev=42,k.f(),e.finish(42);case 45:if("lowest"!==c||!j){e.next=52;break}if(!f){e.next=50;break}x.push(j),e.next=52;break;case 50:return e.next=52,j;case 52:if(!f){e.next=54;break}return e.delegateYield(x,"t1",54);case 54:case"end":return e.stop()}}),e,null,[[10,39,42,45]])})),normalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.force,r=void 0!==n&&n,a=function(e){return p.get(e)||[]};if(R.isNormalizing(e)){if(r){var o=Array.from(q.nodes(e),(function(e){return Object(s.a)(e,2)[1]}));p.set(e,o)}0!==a(e).length&&R.withoutNormalizing(e,(function(){for(var t=42*a(e).length,n=0;0!==a(e).length;){if(n>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var r=a(e).pop(),o=R.node(e,r);e.normalizeNode(o),n++}}))}},parent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=R.path(e,t,n),a=V.parent(r),o=R.node(e,a);return o},path:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.depth,a=n.edge;if(V.isPath(t))if("start"===a){var o=q.first(e,t),i=Object(s.a)(o,2),c=i[1];t=c}else if("end"===a){var u=q.last(e,t),f=Object(s.a)(u,2),l=f[1];t=l}return Y.isRange(t)&&(t="start"===a?Y.start(t):"end"===a?Y.end(t):V.common(t.anchor.path,t.focus.path)),U.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},pathRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,a=void 0===r?"forward":r,o={current:t,affinity:a,unref:function(){var t=o.current;return R.pathRefs(e).delete(o),o.current=null,t}},i=R.pathRefs(e);return i.add(o),o},pathRefs:function(e){var t=m.get(e);return t||(t=new Set,m.set(e,t)),t},point:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.edge,a=void 0===r?"start":r;if(V.isPath(t)){var o;if("end"===a){var i=q.last(e,t),c=Object(s.a)(i,2),u=c[1];o=u}else{var f=q.first(e,t),l=Object(s.a)(f,2),d=l[1];o=d}var h=q.get(e,o);if(!$.isText(h))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(t,"] because it has no ").concat(a," text node."));return{path:o,offset:"end"===a?h.text.length:0}}if(Y.isRange(t)){var v=Y.edges(t),p=Object(s.a)(v,2),g=p[0],b=p[1];return"start"===a?g:b}return t},pointRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,a=void 0===r?"forward":r,o={current:t,affinity:a,unref:function(){var t=o.current;return R.pointRefs(e).delete(o),o.current=null,t}},i=R.pointRefs(e);return i.add(o),o},pointRefs:function(e){var t=O.get(e);return t||(t=new Set,O.set(e,t)),t},positions:i.a.mark((function e(t){var n,r,a,o,c,f,d,h,v,p,g,b,m,O,y,w,x,j,E,A,F,N,B,C,D,T,S,q,I=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=I.length>1&&void 0!==I[1]?I[1]:{},r=n.at,a=void 0===r?t.selection:r,o=n.unit,c=void 0===o?"offset":o,f=n.reverse,d=void 0!==f&&f,a){e.next=4;break}return e.abrupt("return");case 4:h=R.range(t,a),v=Y.edges(h),p=Object(s.a)(v,2),g=p[0],b=p[1],m=d?b:g,O="",y=0,w=0,x=null,j=!1,E=function(){null==x&&(x="character"===c?k(O):"word"===c?P(O):"line"===c||"block"===c?O.length:1,O=O.slice(x)),w=d?w-x:w+x,x=(y-=x)>=0?null:0-y},A=l(R.nodes(t,{at:a,reverse:d})),e.prev=14,A.s();case 16:if((F=A.n()).done){e.next=51;break}if(N=Object(s.a)(F.value,2),B=N[0],C=N[1],!_.isElement(B)){e.next=26;break}if(!t.isVoid(B)){e.next=23;break}return e.next=22,R.start(t,C);case 22:return e.abrupt("continue",49);case 23:if(!t.isInline(B)){e.next=25;break}return e.abrupt("continue",49);case 25:R.hasInlines(t,B)&&(D=V.isAncestor(C,b.path)?b:R.end(t,C),T=V.isAncestor(C,g.path)?g:R.start(t,C),S=R.string(t,{anchor:T,focus:D}),O=d?Object(u.reverse)(S):S,j=!0);case 26:if(!$.isText(B)){e.next=49;break}if(q=V.equals(C,m.path),y=B.text.length,w=d?y:0,q&&(y=d?m.offset:y-m.offset,w=m.offset),!q&&!j&&"offset"!==c){e.next=34;break}return e.next=34,{path:C,offset:w};case 34:if(""!==O){e.next=39;break}return e.abrupt("break",48);case 39:E();case 40:if(!(y>=0)){e.next=45;break}return e.next=43,{path:C,offset:w};case 43:e.next=46;break;case 45:return e.abrupt("break",48);case 46:e.next=34;break;case 48:j=!1;case 49:e.next=16;break;case 51:e.next=56;break;case 53:e.prev=53,e.t0=e.catch(14),A.e(e.t0);case 56:return e.prev=56,A.f(),e.finish(56);case 59:case"end":return e.stop()}}),e,null,[[14,53,56,59]])})),previous:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,a=t.voids,o=void 0!==a&&a,i=t.match,c=t.at,u=void 0===c?e.selection:c;if(u){var f=R.first(e,u),l=Object(s.a)(f,2),d=l[1],h=R.first(e,[]),v=Object(s.a)(h,2),p=v[1],g=[d,p];if(V.isPath(u)&&0===u.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(V.isPath(u)){var b=R.parent(e,u),m=Object(s.a)(b,1),O=m[0];i=function(e){return O.children.includes(e)}}else i=function(){return!0};var y=R.nodes(e,{reverse:!0,at:g,match:i,mode:r,voids:o}),w=Object(s.a)(y,2),x=w[1];return x}},range:function(e,t,n){return Y.isRange(t)&&!n?t:{anchor:R.start(e,t),focus:R.end(e,n||t)}},rangeRef:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.affinity,a=void 0===r?"forward":r,o={current:t,affinity:a,unref:function(){var t=o.current;return R.rangeRefs(e).delete(o),o.current=null,t}},i=R.rangeRefs(e);return i.add(o),o},rangeRefs:function(e){var t=y.get(e);return t||(t=new Set,y.set(e,t)),t},removeMark:function(e,t){e.removeMark(t)},start:function(e,t){return R.point(e,t,{edge:"start"})},string:function(e,t){var n,r=R.range(e,t),a=Y.edges(r),o=Object(s.a)(a,2),i=o[0],c=o[1],u="",f=l(R.nodes(e,{at:r,match:$.isText}));try{for(f.s();!(n=f.n()).done;){var d=Object(s.a)(n.value,2),h=d[0],v=d[1],p=h.text;V.equals(v,c.path)&&(p=p.slice(0,c.offset)),V.equals(v,i.path)&&(p=p.slice(i.offset)),u+=p}}catch(g){f.e(g)}finally{f.f()}return u},unhangRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.voids,a=void 0!==r&&r,o=Y.edges(t),i=Object(s.a)(o,2),c=i[0],u=i[1];if(0!==c.offset||0!==u.offset||Y.isCollapsed(t))return t;var f,d=R.above(e,{at:u,match:function(t){return R.isBlock(e,t)}}),h=d?d[1]:[],v=R.start(e,[]),p={anchor:v,focus:u},g=!0,b=l(R.nodes(e,{at:p,match:$.isText,reverse:!0,voids:a}));try{for(b.s();!(f=b.n()).done;){var m=Object(s.a)(f.value,2),O=m[0],y=m[1];if(g)g=!1;else if(""!==O.text||V.isBefore(y,h)){u={path:y,offset:O.text.length};break}}}catch(w){b.e(w)}finally{b.f()}return{anchor:c,focus:u}},void:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R.above(e,D({},t,{match:function(t){return R.isVoid(e,t)}}))},withoutNormalizing:function(e,t){var n=R.isNormalizing(e);b.set(e,!1),t(),b.set(e,n),R.normalize(e)}},_={isElement:function(e){return Object(c.a)(e)&&q.isNodeList(e.children)&&!R.isEditor(e)},isElementList:function(e){return Array.isArray(e)&&(0===e.length||_.isElement(e[0]))},matches:function(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},T={isLocation:function(e){return V.isPath(e)||U.isPoint(e)||Y.isRange(e)}},S={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(V.isPath)}},q={ancestor:function(e,t){var n=q.get(e,t);if($.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(n));return n},ancestors:i.a.mark((function e(t,n){var r,a,o,s,c,u,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>2&&void 0!==f[2]?f[2]:{},a=l(V.ancestors(n,r)),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=12;break}return s=o.value,c=q.ancestor(t,s),u=[c,s],e.next=10,u;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),a.e(e.t0);case 17:return e.prev=17,a.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})),child:function(e,t){if($.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return n},children:i.a.mark((function(e,t){var n,r,a,o,s,c,u,f,l=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=l.length>2&&void 0!==l[2]?l[2]:{},r=n.reverse,a=void 0!==r&&r,o=q.ancestor(e,t),s=o.children,c=a?s.length-1:0;case 5:if(!(a?c>=0:c<s.length)){i.next=13;break}return u=q.child(o,c),f=t.concat(c),i.next=10,[u,f];case 10:c=a?c-1:c+1,i.next=5;break;case 13:case"end":return i.stop()}}),s)})),common:function(e,t,n){var r=V.common(t,n);return[q.get(e,r),r]},descendant:function(e,t){var n=q.get(e,t);if(R.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(n));return n},descendants:i.a.mark((function e(t){var n,r,a,o,c,u,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.length>1&&void 0!==f[1]?f[1]:{},r=l(q.nodes(t,n)),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=11;break}if(o=Object(s.a)(a.value,2),c=o[0],0===(u=o[1]).length){e.next=9;break}return e.next=9,[c,u];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),elements:i.a.mark((function e(t){var n,r,a,o,c,u,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.length>1&&void 0!==f[1]?f[1]:{},r=l(q.nodes(t,n)),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=11;break}if(o=Object(s.a)(a.value,2),c=o[0],u=o[1],!_.isElement(c)){e.next=9;break}return e.next=9,[c,u];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),first:function(e,t){for(var n=t.slice(),r=q.get(e,n);r&&!$.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment:function(e,t){if($.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return Object(f.d)(e,(function(e){var n,r=Y.edges(t),a=Object(s.a)(r,2),o=a[0],i=a[1],c=l(q.nodes(e,{reverse:!0,pass:function(e){var n=Object(s.a)(e,2)[1];return!Y.includes(t,n)}}));try{for(c.s();!(n=c.n()).done;){var u=Object(s.a)(n.value,2)[1];if(!Y.includes(t,u)){var f=q.parent(e,u),d=u[u.length-1];f.children.splice(d,1)}if(V.equals(u,i.path)){var h=q.leaf(e,u);h.text=h.text.slice(0,i.offset)}if(V.equals(u,o.path)){var v=q.leaf(e,u);v.text=v.text.slice(o.offset)}}}catch(p){c.e(p)}finally{c.f()}delete e.selection})).children},get:function(e,t){for(var n=e,r=0;r<t.length;r++){var a=t[r];if($.isText(n)||!n.children[a])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));n=n.children[a]}return n},has:function(e,t){for(var n=e,r=0;r<t.length;r++){var a=t[r];if($.isText(n)||!n.children[a])return!1;n=n.children[a]}return!0},isNode:function(e){return $.isText(e)||_.isElement(e)||R.isEditor(e)},isNodeList:function(e){return Array.isArray(e)&&(0===e.length||q.isNode(e[0]))},last:function(e,t){for(var n=t.slice(),r=q.get(e,n);r&&!$.isText(r)&&0!==r.children.length;){var a=r.children.length-1;r=r.children[a],n.push(a)}return[r,n]},leaf:function(e,t){var n=q.get(e,t);if(!$.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(n));return n},levels:i.a.mark((function e(t,n){var r,a,o,s,c,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>2&&void 0!==u[2]?u[2]:{},a=l(V.levels(n,r)),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=11;break}return s=o.value,c=q.get(t,s),e.next=9,[c,s];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),a.e(e.t0);case 16:return e.prev=16,a.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),matches:function(e,t){return _.isElement(e)&&_.matches(e,t)||$.isText(e)&&$.matches(e,t)},nodes:i.a.mark((function e(t){var n,r,a,o,s,c,u,f,l,d,h,v,p,g=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g.length>1&&void 0!==g[1]?g[1]:{},r=n.pass,a=n.reverse,o=void 0!==a&&a,s=n.from,c=void 0===s?[]:s,u=n.to,f=new Set,l=[],d=t;case 6:if(!u||!(o?V.isBefore(l,u):V.isAfter(l,u))){e.next=9;break}return e.abrupt("break",37);case 9:if(f.has(d)){e.next=12;break}return e.next=12,[d,l];case 12:if(f.has(d)||$.isText(d)||0===d.children.length||null!=r&&!1!==r([d,l])){e.next=19;break}return f.add(d),h=o?d.children.length-1:0,V.isAncestor(l,c)&&(h=c[l.length]),l=l.concat(h),d=q.get(t,l),e.abrupt("continue",6);case 19:if(0!==l.length){e.next=21;break}return e.abrupt("break",37);case 21:if(o){e.next=27;break}if(v=V.next(l),!q.has(t,v)){e.next=27;break}return l=v,d=q.get(t,l),e.abrupt("continue",6);case 27:if(!o||0===l[l.length-1]){e.next=32;break}return p=V.previous(l),l=p,d=q.get(t,l),e.abrupt("continue",6);case 32:l=V.parent(l),d=q.get(t,l),f.add(d),e.next=6;break;case 37:case"end":return e.stop()}}),e)})),parent:function(e,t){var n=V.parent(t),r=q.get(e,n);if($.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:function(e){return $.isText(e)?e.text:e.children.map(q.string).join("")},texts:i.a.mark((function e(t){var n,r,a,o,c,u,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f.length>1&&void 0!==f[1]?f[1]:{},r=l(q.nodes(t,n)),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=11;break}if(o=Object(s.a)(a.value,2),c=o[0],u=o[1],!$.isText(c)){e.next=9;break}return e.next=9,[c,u];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={isNodeOperation:function(e){return M.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!Object(c.a)(e))return!1;switch(e.type){case"insert_node":return V.isPath(e.path)&&q.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&V.isPath(e.path);case"merge_node":return"number"==typeof e.position&&V.isPath(e.path)&&Object(c.a)(e.properties);case"move_node":return V.isPath(e.path)&&V.isPath(e.newPath);case"remove_node":return V.isPath(e.path)&&q.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&V.isPath(e.path);case"set_node":return V.isPath(e.path)&&Object(c.a)(e.properties)&&Object(c.a)(e.newProperties);case"set_selection":return null===e.properties&&Y.isRange(e.newProperties)||null===e.newProperties&&Y.isRange(e.properties)||Object(c.a)(e.properties)&&Object(c.a)(e.newProperties);case"split_node":return V.isPath(e.path)&&"number"==typeof e.position&&Object(c.a)(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&(0===e.length||M.isOperation(e[0]))},isSelectionOperation:function(e){return M.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return M.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return z({},e,{type:"remove_node"});case"insert_text":return z({},e,{type:"remove_text"});case"merge_node":return z({},e,{type:"split_node",path:V.previous(e.path)});case"move_node":var t=e.newPath,n=e.path;return V.equals(t,n)?e:V.isSibling(n,t)?z({},e,{path:t,newPath:n}):z({},e,{path:V.transform(n,e),newPath:V.transform(V.next(n),e)});case"remove_node":return z({},e,{type:"insert_node"});case"remove_text":return z({},e,{type:"insert_text"});case"set_node":var r=e.properties;return z({},e,{properties:e.newProperties,newProperties:r});case"set_selection":var a=e.properties,o=e.newProperties;return z({},e,null==a?{properties:o,newProperties:null}:null==o?{properties:null,newProperties:a}:{properties:o,newProperties:a});case"split_node":return z({},e,{type:"merge_node",path:V.next(e.path)})}}},V={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,a=V.levels(e,t);return a=r?a.slice(1):a.slice(0,-1)},common:function(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var a=e[r];if(a!==t[r])break;n.push(a)}return n},compare:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter:function(e,t){var n=e.length-1,r=e.slice(0,n),a=t.slice(0,n),o=e[n],i=t[n];return V.equals(r,a)&&o>i},endsAt:function(e,t){var n=e.length,r=e.slice(0,n),a=t.slice(0,n);return V.equals(r,a)},endsBefore:function(e,t){var n=e.length-1,r=e.slice(0,n),a=t.slice(0,n),o=e[n],i=t[n];return V.equals(r,a)&&o<i},equals:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},isAfter:function(e,t){return 1===V.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===V.compare(e,t)},isBefore:function(e,t){return-1===V.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===V.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===V.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===V.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===V.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&V.equals(n,r)},levels:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,a=[],o=0;o<=e.length;o++)a.push(e.slice(0,o));return r&&a.reverse(),a},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!V.isAncestor(t,e)&&!V.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(f.d)(e,(function(r){var a=n.affinity,o=void 0===a?"forward":a;if(0!==e.length)switch(t.type){case"insert_node":var i=t.path;(V.equals(i,r)||V.endsBefore(i,r)||V.isAncestor(i,r))&&(r[i.length-1]+=1);break;case"remove_node":var s=t.path;if(V.equals(s,r)||V.isAncestor(s,r))return null;V.endsBefore(s,r)&&(r[s.length-1]-=1);break;case"merge_node":var c=t.path,u=t.position;V.equals(c,r)||V.endsBefore(c,r)?r[c.length-1]-=1:V.isAncestor(c,r)&&(r[c.length-1]-=1,r[c.length]+=u);break;case"split_node":var f=t.path,l=t.position;if(V.equals(f,r)){if("forward"===o)r[r.length-1]+=1;else if("backward"!==o)return null}else V.endsBefore(f,r)?r[f.length-1]+=1:V.isAncestor(f,r)&&e[f.length]>=l&&(r[f.length-1]+=1,r[f.length]-=l);break;case"move_node":var d=t.path,h=t.newPath;if(V.equals(d,h))return;if(V.isAncestor(d,r)||V.equals(d,r)){var v=h.slice();return V.endsBefore(d,h)&&d.length<h.length&&(v[d.length-1]-=1),v.concat(r.slice(d.length))}V.isSibling(d,h)&&(V.isAncestor(h,r)||V.equals(h,r))?V.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:V.endsBefore(h,r)||V.equals(h,r)||V.isAncestor(h,r)?(V.endsBefore(d,r)&&(r[d.length-1]-=1),r[h.length-1]+=1):V.endsBefore(d,r)&&(V.equals(h,r)&&(r[h.length-1]+=1),r[d.length-1]-=1)}}))}},J={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var a=V.transform(n,t,{affinity:r});e.current=a,null==a&&e.unref()}}};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={compare:function(e,t){var n=V.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:function(e,t){return 1===U.compare(e,t)},isBefore:function(e,t){return-1===U.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&V.equals(e.path,t.path)},isPoint:function(e){return Object(c.a)(e)&&"number"==typeof e.offset&&V.isPath(e.path)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(f.d)(e,(function(e){var r=n.affinity,a=void 0===r?"forward":r,o=e.path,i=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=V.transform(o,t,n);break;case"insert_text":V.equals(t.path,o)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":V.equals(t.path,o)&&(e.offset+=t.position),e.path=V.transform(o,t,n);break;case"remove_text":V.equals(t.path,o)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(V.equals(t.path,o)||V.isAncestor(t.path,o))return null;e.path=V.transform(o,t,n);break;case"split_node":if(V.equals(t.path,o)){if(t.position===i&&null==a)return null;(t.position<i||t.position===i&&"forward"===a)&&(e.offset-=t.position,e.path=V.transform(o,t,L({},n,{affinity:"forward"})))}else e.path=V.transform(o,t,n)}}))}},Z={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var a=U.transform(n,t,{affinity:r});e.current=a,null==a&&e.unref()}}};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Y={edges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,a=e.anchor,o=e.focus;return Y.isBackward(e)===r?[a,o]:[o,a]},end:function(e){var t=Y.edges(e),n=Object(s.a)(t,2)[1];return n},equals:function(e,t){return U.equals(e.anchor,t.anchor)&&U.equals(e.focus,t.focus)},includes:function(e,t){if(Y.isRange(t)){if(Y.includes(e,t.anchor)||Y.includes(e,t.focus))return!0;var n=Y.edges(e),r=Object(s.a)(n,2),a=r[0],o=r[1],i=Y.edges(t),c=Object(s.a)(i,2),u=c[0],f=c[1];return U.isBefore(a,u)&&U.isAfter(o,f)}var l=Y.edges(e),d=Object(s.a)(l,2),h=d[0],v=d[1],p=!1,g=!1;return U.isPoint(t)?(p=U.compare(t,h)>=0,g=U.compare(t,v)<=0):(p=V.compare(t,h.path)>=0,g=V.compare(t,v.path)<=0),p&&g},intersection:function(e,t){var n=v(e,["anchor","focus"]),r=Y.edges(e),a=Object(s.a)(r,2),o=a[0],i=a[1],c=Y.edges(t),u=Object(s.a)(c,2),f=u[0],l=u[1],d=U.isBefore(o,f)?f:o,p=U.isBefore(i,l)?i:l;return U.isBefore(p,d)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anchor:d,focus:p},n)},isBackward:function(e){var t=e.anchor,n=e.focus;return U.isAfter(t,n)},isCollapsed:function(e){var t=e.anchor,n=e.focus;return U.equals(t,n)},isExpanded:function(e){return!Y.isCollapsed(e)},isForward:function(e){return!Y.isBackward(e)},isRange:function(e){return Object(c.a)(e)&&U.isPoint(e.anchor)&&U.isPoint(e.focus)},points:i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[t.anchor,"anchor"];case 2:return e.next=4,[t.focus,"focus"];case 4:case"end":return e.stop()}}),e)})),start:function(e){var t=Y.edges(e),n=Object(s.a)(t,1)[0];return n},transform:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.affinity,i=void 0===o?"inward":o;return"inward"===i?Y.isForward(e)?(n="forward",r="backward"):(n="backward",r="forward"):"outward"===i?Y.isForward(e)?(n="backward",r="forward"):(n="forward",r="backward"):(n=i,r=i),Object(f.d)(e,(function(e){var a=U.transform(e.anchor,t,{affinity:n}),o=U.transform(e.focus,t,{affinity:r});if(!a||!o)return null;e.anchor=a,e.focus=o}))}},H={transform:function(e,t){var n=e.current,r=e.affinity;if(null!=n){var a=Y.transform(n,t,{affinity:r});e.current=a,null==a&&e.unref()}}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={equals:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.loose,a=void 0!==r&&r;for(var o in e)if((!a||"text"!==o)&&e[o]!==t[o])return!1;for(var i in t)if((!a||"text"!==i)&&e[i]!==t[i])return!1;return!0},isText:function(e){return Object(c.a)(e)&&"string"==typeof e.text},isTextList:function(e){return Array.isArray(e)&&(0===e.length||$.isText(e[0]))},matches:function(e,t){for(var n in t)if("text"!==n&&e[n]!==t[n])return!1;return!0},decorations:function(e,t){var n,r=[X({},e)],a=l(t);try{for(a.s();!(n=a.n()).done;){var o,i=n.value,c=v(i,["anchor","focus"]),u=Y.edges(i),f=Object(s.a)(u,2),d=f[0],h=f[1],p=[],g=0,b=l(r);try{for(b.s();!(o=b.n()).done;){var m=o.value,O=m.text.length,y=g;if(g+=O,d.offset<=y&&h.offset>=y+O)Object.assign(m,c),p.push(m);else if(d.offset>y+O||h.offset<y||h.offset===y&&0!==y)p.push(m);else{var w=m,x=void 0,j=void 0;if(h.offset<y+O){var k=h.offset-y;j=X({},w,{text:w.text.slice(k)}),w=X({},w,{text:w.text.slice(0,k)})}if(d.offset>y){var P=d.offset-y;x=X({},w,{text:w.text.slice(0,P)}),w=X({},w,{text:w.text.slice(P)})}Object.assign(w,c),x&&p.push(x),p.push(w),j&&p.push(j)}}}catch(E){b.e(E)}finally{b.f()}r=p}}catch(E){a.e(E)}finally{a.f()}return r}};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re={insertNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R.withoutNormalizing(e,(function(){var r=n.hanging,a=void 0!==r&&r,o=n.voids,i=void 0!==o&&o,c=n.mode,u=void 0===c?"lowest":c,f=n.at,d=n.match,h=n.select;if(q.isNode(t)&&(t=[t]),0!==t.length){var v=t,p=Object(s.a)(v,1)[0];if(f||(f=e.selection?e.selection:e.children.length>0?R.end(e,[]):[0],h=!0),null==h&&(h=!1),Y.isRange(f))if(a||(f=R.unhangRange(e,f)),Y.isCollapsed(f))f=f.anchor;else{var g=Y.edges(f),b=Object(s.a)(g,2)[1],m=R.pointRef(e,b);ce.delete(e,{at:f}),f=m.unref()}if(U.isPoint(f)){null==d&&(d=$.isText(p)?function(e){return $.isText(e)}:e.isInline(p)?function(t){return $.isText(t)||R.isInline(e,t)}:function(t){return R.isBlock(e,t)});var O=R.nodes(e,{at:f.path,match:d,mode:u,voids:i}),y=Object(s.a)(O,1)[0];if(!y)return;var w=Object(s.a)(y,2)[1],x=R.pathRef(e,w),j=R.isEnd(e,f,w);ce.splitNodes(e,{at:f,match:d,mode:u,voids:i});var k=x.unref();f=j?V.next(k):k}var P=V.parent(f),E=f[f.length-1];if(i||!R.void(e,{at:P})){var A,F=l(t);try{for(F.s();!(A=F.n()).done;){var N=A.value,B=P.concat(E);E++,e.apply({type:"insert_node",path:B,node:N})}}catch(D){F.e(D)}finally{F.f()}if(h){var C=R.end(e,f);C&&ce.select(e,C)}}}}))},liftNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.withoutNormalizing(e,(function(){var n=t.at,r=void 0===n?e.selection:n,a=t.mode,o=void 0===a?"lowest":a,i=t.voids,c=void 0!==i&&i,u=t.match;if(null==u&&(u=V.isPath(r)?oe(e,r):function(t){return R.isBlock(e,t)}),r)for(var f=R.nodes(e,{at:r,match:u,mode:o,voids:c}),l=0,d=Array.from(f,(function(t){var n=Object(s.a)(t,2)[1];return R.pathRef(e,n)}));l<d.length;l++){var h=d[l].unref();if(h.length<2)throw new Error("Cannot lift node at a path [".concat(h,"] because it has a depth of less than `2`."));var v=R.node(e,V.parent(h)),p=Object(s.a)(v,2),g=p[0],b=p[1],m=h[h.length-1],O=g.children.length;if(1===O){var y=V.next(b);ce.moveNodes(e,{at:h,to:y,voids:c}),ce.removeNodes(e,{at:b,voids:c})}else if(0===m)ce.moveNodes(e,{at:h,to:b,voids:c});else if(m===O-1){var w=V.next(b);ce.moveNodes(e,{at:h,to:w,voids:c})}else{var x=V.next(h),j=V.next(b);ce.splitNodes(e,{at:x,voids:c}),ce.moveNodes(e,{at:h,to:j,voids:c})}}}))},mergeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.withoutNormalizing(e,(function(){var n=t.match,r=t.at,a=void 0===r?e.selection:r,o=t.hanging,i=void 0!==o&&o,c=t.voids,u=void 0!==c&&c,f=t.mode,l=void 0===f?"lowest":f;if(a){if(null==n)if(V.isPath(a)){var d=R.parent(e,a),h=Object(s.a)(d,1)[0];n=function(e){return h.children.includes(e)}}else n=function(t){return R.isBlock(e,t)};if(!i&&Y.isRange(a)&&(a=R.unhangRange(e,a)),Y.isRange(a))if(Y.isCollapsed(a))a=a.anchor;else{var p=Y.edges(a),g=Object(s.a)(p,2)[1],b=R.pointRef(e,g);ce.delete(e,{at:a}),a=b.unref(),null==t.at&&ce.select(e,a)}var m=R.nodes(e,{at:a,match:n,voids:u,mode:l}),O=Object(s.a)(m,1)[0],y=R.previous(e,{at:a,match:n,voids:u,mode:l});if(O&&y){var w=Object(s.a)(O,2),x=w[0],j=w[1],k=Object(s.a)(y,2),P=k[0],E=k[1];if(0!==j.length&&0!==E.length){var A,F,N=V.next(E),B=V.common(j,E),C=V.isSibling(j,E),D=Array.from(R.levels(e,{at:j}),(function(e){return Object(s.a)(e,1)[0]})).slice(B.length).slice(0,-1),T=R.above(e,{at:j,mode:"highest",match:function(e){return D.includes(e)&&_.isElement(e)&&1===e.children.length}}),S=T&&R.pathRef(e,T[1]);if($.isText(x)&&$.isText(P)){var q=v(x,["text"]);F=P.text.length,A=q}else{if(!_.isElement(x)||!_.isElement(P))throw new Error("Cannot merge the node at path [".concat(j,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(x)," ").concat(JSON.stringify(P)));q=v(x,["children"]);F=P.children.length,A=q}C||ce.moveNodes(e,{at:j,to:N,voids:u}),S&&ce.removeNodes(e,{at:S.current,voids:u}),_.isElement(P)&&R.isEmpty(e,P)||$.isText(P)&&""===P.text?ce.removeNodes(e,{at:E,voids:u}):e.apply({type:"merge_node",path:N,position:F,properties:A}),S&&S.unref()}}}}))},moveNodes:function(e,t){R.withoutNormalizing(e,(function(){var n=t.to,r=t.at,a=void 0===r?e.selection:r,o=t.mode,i=void 0===o?"lowest":o,c=t.voids,u=void 0!==c&&c,f=t.match;if(a){null==f&&(f=V.isPath(a)?oe(e,a):function(t){return R.isBlock(e,t)});for(var l=R.pathRef(e,n),d=R.nodes(e,{at:a,match:f,mode:i,voids:u}),h=0,v=Array.from(d,(function(t){var n=Object(s.a)(t,2)[1];return R.pathRef(e,n)}));h<v.length;h++){var p=v[h].unref(),g=l.current;0!==p.length&&e.apply({type:"move_node",path:p,newPath:g})}l.unref()}}))},removeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.withoutNormalizing(e,(function(){var n=t.hanging,r=void 0!==n&&n,a=t.voids,o=void 0!==a&&a,i=t.mode,c=void 0===i?"lowest":i,u=t.at,f=void 0===u?e.selection:u,l=t.match;if(f){null==l&&(l=V.isPath(f)?oe(e,f):function(t){return R.isBlock(e,t)}),!r&&Y.isRange(f)&&(f=R.unhangRange(e,f));for(var d=R.nodes(e,{at:f,match:l,mode:c,voids:o}),h=0,v=Array.from(d,(function(t){var n=Object(s.a)(t,2)[1];return R.pathRef(e,n)}));h<v.length;h++){var p=v[h].unref();if(p){var g=R.node(e,p),b=Object(s.a)(g,1)[0];e.apply({type:"remove_node",path:p,node:b})}}}}))},setNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R.withoutNormalizing(e,(function(){var r=n.match,a=n.at,o=void 0===a?e.selection:a,i=n.hanging,c=void 0!==i&&i,u=n.mode,f=void 0===u?"lowest":u,d=n.split,h=void 0!==d&&d,v=n.voids,p=void 0!==v&&v;if(o){if(null==r&&(r=V.isPath(o)?oe(e,o):function(t){return R.isBlock(e,t)}),!c&&Y.isRange(o)&&(o=R.unhangRange(e,o)),h&&Y.isRange(o)){var g=R.rangeRef(e,o,{affinity:"inward"}),b=Y.edges(o),m=Object(s.a)(b,2),O=m[0],y=m[1],w="lowest"===f?"lowest":"highest";ce.splitNodes(e,{at:y,match:r,mode:w,voids:p}),ce.splitNodes(e,{at:O,match:r,mode:w,voids:p}),o=g.unref(),null==n.at&&ce.select(e,o)}var x,j=l(R.nodes(e,{at:o,match:r,mode:f,voids:p}));try{for(j.s();!(x=j.n()).done;){var k=Object(s.a)(x.value,2),P=k[0],E=k[1],A={},F={};if(0!==E.length){for(var N in t)"children"!==N&&"text"!==N&&t[N]!==P[N]&&(A[N]=P[N],F[N]=t[N]);0!==Object.keys(F).length&&e.apply({type:"set_node",path:E,properties:A,newProperties:F})}}}catch(B){j.e(B)}finally{j.f()}}}))},splitNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,a=t.voids,o=void 0!==a&&a,i=t.match,c=t.at,u=void 0===c?e.selection:c,f=t.height,d=void 0===f?0:f,h=t.always,p=void 0!==h&&h;if(null==i&&(i=function(t){return R.isBlock(e,t)}),Y.isRange(u)&&(u=ae(e,u)),V.isPath(u)){var g=u,b=R.point(e,g),m=R.parent(e,g),O=Object(s.a)(m,1)[0];i=function(e){return e===O},d=b.path.length-g.length+1,u=b,p=!0}if(u){var y=R.pointRef(e,u,{affinity:"backward"}),w=R.nodes(e,{at:u,match:i,mode:r,voids:o}),x=Object(s.a)(w,1)[0];if(x){var j=R.void(e,{at:u,mode:"highest"});if(!o&&j){var k=Object(s.a)(j,2),P=k[0],E=k[1];if(_.isElement(P)&&e.isInline(P)){var A=R.after(e,E);if(!A){var F=V.next(E);ce.insertNodes(e,{text:""},{at:F,voids:o}),A=R.point(e,F)}u=A,p=!0}d=u.path.length-E.length+1,p=!0}var N,B=R.pointRef(e,u),C=u.path.length-d,D=Object(s.a)(x,2)[1],T=u.path.slice(0,C),S=0===d?u.offset:u.path[C]+0,q=l(R.levels(e,{at:T,reverse:!0,voids:o}));try{for(q.s();!(N=q.n()).done;){var I=Object(s.a)(N.value,2),z=I[0],M=I[1],J=!1;if(M.length<D.length||0===M.length||!o&&R.isVoid(e,z))break;var W=y.current,L=R.isEnd(e,W,M);if(p||!y||!R.isEdge(e,W,M)){J=!0;var U=v(z,["text","children"]);e.apply({type:"split_node",path:M,position:S,properties:U})}S=M[M.length-1]+(J||L?1:0)}}catch(Q){q.e(Q)}finally{q.f()}if(null==t.at){var Z=B.current||R.end(e,[]);ce.select(e,Z)}y.unref(),B.unref()}}}))},unsetNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r,a={},o=l(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;a[i]=null}}catch(s){o.e(s)}finally{o.f()}ce.setNodes(e,a,n)},unwrapNodes:function(e,t){R.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,a=t.split,o=void 0!==a&&a,i=t.voids,c=void 0!==i&&i,u=t.at,f=void 0===u?e.selection:u,l=t.match;if(f){null==l&&(l=V.isPath(f)?oe(e,f):function(t){return R.isBlock(e,t)}),V.isPath(f)&&(f=R.range(e,f));for(var d=Y.isRange(f)?R.rangeRef(e,f):null,h=R.nodes(e,{at:f,match:l,mode:r,voids:c}),v=function(t){var n=t.unref(),r=R.node(e,n),a=Object(s.a)(r,1)[0],i=R.range(e,n);o&&d&&(i=Y.intersection(d.current,i)),ce.liftNodes(e,{at:i,match:function(e){return a.children.includes(e)},voids:c})},p=0,g=Array.from(h,(function(t){var n=Object(s.a)(t,2)[1];return R.pathRef(e,n)}));p<g.length;p++){v(g[p])}d&&d.unref()}}))},wrapNodes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R.withoutNormalizing(e,(function(){var r=n.mode,a=void 0===r?"lowest":r,o=n.split,i=void 0!==o&&o,c=n.voids,u=void 0!==c&&c,f=n.match,l=n.at,d=void 0===l?e.selection:l;if(d){if(null==f&&(f=V.isPath(d)?oe(e,d):e.isInline(t)?function(t){return R.isInline(e,t)||$.isText(t)}:function(t){return R.isBlock(e,t)}),i&&Y.isRange(d)){var h=Y.edges(d),v=Object(s.a)(h,2),p=v[0],g=v[1],b=R.rangeRef(e,d,{affinity:"inward"});ce.splitNodes(e,{at:g,match:f,voids:u}),ce.splitNodes(e,{at:p,match:f,voids:u}),d=b.unref(),null==n.at&&ce.select(e,d)}for(var m=0,O=Array.from(R.nodes(e,{at:d,match:e.isInline(t)?function(t){return R.isBlock(e,t)}:function(e){return R.isEditor(e)},mode:"lowest",voids:u}));m<O.length;m++){var y=Object(s.a)(O[m],2)[1],w=Y.isRange(d)?Y.intersection(d,R.range(e,y)):d;if(w){var x=Array.from(R.nodes(e,{at:w,match:f,mode:a,voids:u}));x.length>0&&function(){var n=Object(s.a)(x,1)[0],r=x[x.length-1],a=Object(s.a)(n,2)[1],o=Object(s.a)(r,2)[1],i=V.equals(a,o)?V.parent(a):V.common(a,o),c=R.range(e,a,o),f=R.node(e,i),l=Object(s.a)(f,1)[0],d=i.length+1,h=V.next(o.slice(0,d)),v=ne({},t,{children:[]});ce.insertNodes(e,v,{at:h,voids:u}),ce.moveNodes(e,{at:c,match:function(e){return l.children.includes(e)},to:h.concat(0),voids:u})}()}}}}))}},ae=function(e,t){if(Y.isCollapsed(t))return t.anchor;var n=Y.edges(t),r=Object(s.a)(n,2)[1],a=R.pointRef(e,r);return ce.delete(e,{at:t}),a.unref()},oe=function(e,t){var n=R.node(e,t),r=Object(s.a)(n,1)[0];return function(e){return e===r}};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ce=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{transform:function(e,t){e.children=Object(f.a)(e.children);var n=e.selection&&Object(f.a)(e.selection);switch(t.type){case"insert_node":var r=t.path,o=t.node,i=q.parent(e,r),c=r[r.length-1];if(i.children.splice(c,0,o),n){var u,d=l(Y.points(n));try{for(d.s();!(u=d.n()).done;){var h=Object(s.a)(u.value,2),v=h[0];n[h[1]]=U.transform(v,t)}}catch(Ze){d.e(Ze)}finally{d.f()}}break;case"insert_text":var p=t.path,g=t.offset,b=t.text,m=q.leaf(e,p),O=m.text.slice(0,g),y=m.text.slice(g);if(m.text=O+b+y,n){var w,x=l(Y.points(n));try{for(x.s();!(w=x.n()).done;){var j=Object(s.a)(w.value,2),k=j[0];n[j[1]]=U.transform(k,t)}}catch(Ze){x.e(Ze)}finally{x.f()}}break;case"merge_node":var P=t.path,E=q.get(e,P),A=V.previous(P),F=q.get(e,A),N=q.parent(e,P),B=P[P.length-1];if($.isText(E)&&$.isText(F))F.text+=E.text;else{if($.isText(E)||$.isText(F))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(P,"] to nodes of different interaces: ").concat(E," ").concat(F));var C;(C=F.children).push.apply(C,Object(a.a)(E.children))}if(N.children.splice(B,1),n){var D,R=l(Y.points(n));try{for(R.s();!(D=R.n()).done;){var _=Object(s.a)(D.value,2),T=_[0];n[_[1]]=U.transform(T,t)}}catch(Ze){R.e(Ze)}finally{R.f()}}break;case"move_node":var S=t.path,I=t.newPath;if(V.isAncestor(S,I))throw new Error("Cannot move a path [".concat(S,"] to new path [").concat(I,"] because the destination is inside itself."));var z=q.get(e,S),M=q.parent(e,S),J=S[S.length-1];M.children.splice(J,1);var W=V.transform(S,t),L=q.get(e,V.parent(W)),Z=W[W.length-1];if(L.children.splice(Z,0,z),n){var Q,H=l(Y.points(n));try{for(H.s();!(Q=H.n()).done;){var K=Object(s.a)(Q.value,2),X=K[0];n[K[1]]=U.transform(X,t)}}catch(Ze){H.e(Ze)}finally{H.f()}}break;case"remove_node":var G=t.path,te=G[G.length-1];if(q.parent(e,G).children.splice(te,1),n){var ne,re=l(Y.points(n));try{for(re.s();!(ne=re.n()).done;){var ae=Object(s.a)(ne.value,2),oe=ae[0],ie=ae[1],se=U.transform(oe,t);if(null!=n&&null!=se)n[ie]=se;else{var ce,ue=void 0,fe=void 0,le=l(q.texts(e));try{for(le.s();!(ce=le.n()).done;){var de=Object(s.a)(ce.value,2),he=de[0],ve=de[1];if(-1!==V.compare(ve,G)){fe=[he,ve];break}ue=[he,ve]}}catch(Ze){le.e(Ze)}finally{le.f()}ue?(oe.path=ue[1],oe.offset=ue[0].text.length):fe?(oe.path=fe[1],oe.offset=0):n=null}}}catch(Ze){re.e(Ze)}finally{re.f()}}break;case"remove_text":var pe=t.path,ge=t.offset,be=t.text,me=q.leaf(e,pe),Oe=me.text.slice(0,ge),ye=me.text.slice(ge+be.length);if(me.text=Oe+ye,n){var we,xe=l(Y.points(n));try{for(xe.s();!(we=xe.n()).done;){var je=Object(s.a)(we.value,2),ke=je[0];n[je[1]]=U.transform(ke,t)}}catch(Ze){xe.e(Ze)}finally{xe.f()}}break;case"set_node":var Pe=t.path,Ee=t.newProperties;if(0===Pe.length)throw new Error("Cannot set properties on the root node!");var Ae=q.get(e,Pe);for(var Fe in Ee){if("children"===Fe||"text"===Fe)throw new Error('Cannot set the "'.concat(Fe,'" property of nodes!'));var Ne=Ee[Fe];null==Ne?delete Ae[Fe]:Ae[Fe]=Ne}break;case"set_selection":var Be=t.newProperties;if(null==Be)n=Be;else if(null==n){if(!Y.isRange(Be))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Be)," when there is no current selection."));n=Be}else Object.assign(n,Be);break;case"split_node":var Ce=t.path,De=t.position,Re=t.properties;if(0===Ce.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ce,"] because the root node cannot be split."));var _e,Te=q.get(e,Ce),Se=q.parent(e,Ce),qe=Ce[Ce.length-1];if($.isText(Te)){var Ie=Te.text.slice(0,De),ze=Te.text.slice(De);Te.text=Ie,_e=ee({},Te,{},Re,{text:ze})}else{var Me=Te.children.slice(0,De),Ve=Te.children.slice(De);Te.children=Me,_e=ee({},Te,{},Re,{children:Ve})}if(Se.children.splice(qe+1,0,_e),n){var Je,We=l(Y.points(n));try{for(We.s();!(Je=We.n()).done;){var Le=Object(s.a)(Je.value,2),Ue=Le[0];n[Le[1]]=U.transform(Ue,t)}}catch(Ze){We.e(Ze)}finally{We.f()}}}e.children=Object(f.b)(e.children),e.selection=n?Object(f.c)(n)?Object(f.b)(n):n:null}},{},re,{},{collapse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.edge,r=void 0===n?"anchor":n,a=e.selection;if(a)if("anchor"===r)ce.select(e,a.anchor);else if("focus"===r)ce.select(e,a.focus);else if("start"===r){var o=Y.edges(a),i=Object(s.a)(o,1),c=i[0];ce.select(e,c)}else if("end"===r){var u=Y.edges(a),f=Object(s.a)(u,2),l=f[1];ce.select(e,l)}},deselect:function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.selection,r=t.distance,a=void 0===r?1:r,o=t.unit,i=void 0===o?"character":o,s=t.reverse,c=void 0!==s&&s,u=t.edge,f=void 0===u?null:u;if(n){"start"===f&&(f=Y.isBackward(n)?"focus":"anchor"),"end"===f&&(f=Y.isBackward(n)?"anchor":"focus");var l=n.anchor,d=n.focus,h={distance:a,unit:i},v={};if(null==f||"anchor"===f){var p=c?R.before(e,l,h):R.after(e,l,h);p&&(v.anchor=p)}if(null==f||"focus"===f){var g=c?R.before(e,d,h):R.after(e,d,h);g&&(v.focus=g)}ce.setSelection(e,v)}},select:function(e,t){var n=e.selection;if(t=R.range(e,t),n)ce.setSelection(e,t);else{if(!Y.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}},setPoint:function(e,t,n){var a=e.selection,o=n.edge,i=void 0===o?"both":o;if(a){"start"===i&&(i=Y.isBackward(a)?"focus":"anchor"),"end"===i&&(i=Y.isBackward(a)?"anchor":"focus");var s=a.anchor,c=a.focus,u="anchor"===i?s:c;ce.setSelection(e,Object(r.a)({},"anchor"===i?"anchor":"focus",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u,{},t)))}},setSelection:function(e,t){var n=e.selection,r={},a={};if(n){for(var o in t)("anchor"===o&&null!=t.anchor&&!U.equals(t.anchor,n.anchor)||"focus"===o&&null!=t.focus&&!U.equals(t.focus,n.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==n[o])&&(r[o]=n[o],a[o]=t[o]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:a})}}},{},{delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.withoutNormalizing(e,(function(){var n=t.reverse,r=void 0!==n&&n,a=t.unit,o=void 0===a?"character":a,i=t.distance,c=void 0===i?1:i,u=t.voids,f=void 0!==u&&u,d=t.at,h=void 0===d?e.selection:d,v=t.hanging,p=void 0!==v&&v;if(h){if(Y.isRange(h)&&Y.isCollapsed(h)&&(h=h.anchor),U.isPoint(h)){var g=R.void(e,{at:h,mode:"highest"});if(!f&&g){h=Object(s.a)(g,2)[1]}else{var b={unit:o,distance:c};h={anchor:h,focus:r?R.before(e,h,b)||R.start(e,[]):R.after(e,h,b)||R.end(e,[])},p=!0}}if(V.isPath(h))ce.removeNodes(e,{at:h,voids:f});else if(!Y.isCollapsed(h)){p||(h=R.unhangRange(e,h,{voids:f}));var m=Y.edges(h),O=Object(s.a)(m,2),y=O[0],w=O[1],x=R.above(e,{match:function(t){return R.isBlock(e,t)},at:y,voids:f}),j=R.above(e,{match:function(t){return R.isBlock(e,t)},at:w,voids:f}),k=x&&j&&!V.equals(x[1],j[1]),P=V.equals(y.path,w.path),E=f?null:R.void(e,{at:y,mode:"highest"}),A=f?null:R.void(e,{at:w,mode:"highest"});if(E){var F=R.before(e,y);F&&x&&V.isAncestor(x[1],F.path)&&(y=F)}if(A){var N=R.after(e,w);N&&j&&V.isAncestor(j[1],N.path)&&(w=N)}var B,C,D=[],_=l(R.nodes(e,{at:h,voids:f}));try{for(_.s();!(C=_.n()).done;){var T=C.value,S=Object(s.a)(T,2),q=S[0],I=S[1];B&&0===V.compare(I,B)||(!f&&R.isVoid(e,q)||!V.isCommon(I,y.path)&&!V.isCommon(I,w.path))&&(D.push(T),B=I)}}catch(se){_.e(se)}finally{_.f()}var z=Array.from(D,(function(t){var n=Object(s.a)(t,2)[1];return R.pathRef(e,n)})),M=R.pointRef(e,y),J=R.pointRef(e,w);if(!P&&!E){var W=M.current,L=R.leaf(e,W),Z=Object(s.a)(L,1)[0],Q=W.path,H=y.offset,K=Z.text.slice(H);e.apply({type:"remove_text",path:Q,offset:H,text:K})}for(var X=0,$=z;X<$.length;X++){var G=$[X].unref();ce.removeNodes(e,{at:G,voids:f})}if(!A){var ee=J.current,te=R.leaf(e,ee),ne=Object(s.a)(te,1)[0],re=ee.path,ae=P?y.offset:0,oe=ne.text.slice(ae,w.offset);e.apply({type:"remove_text",path:re,offset:ae,text:oe})}!P&&k&&J.current&&M.current&&ce.mergeNodes(e,{at:J.current,hanging:!0,voids:f});var ie=J.unref()||M.unref();null==t.at&&ie&&ce.select(e,ie)}}}))},insertFragment:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R.withoutNormalizing(e,(function(){var r=n.hanging,a=void 0!==r&&r,o=n.voids,i=void 0!==o&&o,c=n.at,u=void 0===c?e.selection:c;if(t.length&&u){if(Y.isRange(u))if(a||(u=R.unhangRange(e,u)),Y.isCollapsed(u))u=u.anchor;else{var f=Y.edges(u),d=Object(s.a)(f,2)[1];if(!i&&R.void(e,{at:d}))return;var h=R.pointRef(e,d);ce.delete(e,{at:u}),u=h.unref()}else V.isPath(u)&&(u=R.start(e,u));if(i||!R.void(e,{at:u})){var v=R.above(e,{at:u,match:function(t){return R.isInline(e,t)},mode:"highest",voids:i});if(v){var p=Object(s.a)(v,2)[1];if(R.isEnd(e,u,p))u=R.after(e,p);else if(R.isStart(e,u,p)){u=R.before(e,p)}}var g,b=R.above(e,{match:function(t){return R.isBlock(e,t)},at:u,voids:i}),m=Object(s.a)(b,2)[1],O=R.isStart(e,u,m),y=R.isEnd(e,u,m),w=!O||O&&y,x=!y,j=q.first({children:t},[]),k=Object(s.a)(j,2)[1],P=q.last({children:t},[]),E=Object(s.a)(P,2)[1],A=[],F=function(t){var n=Object(s.a)(t,2),r=n[0],a=n[1];return!(w&&V.isAncestor(a,k)&&_.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(x&&V.isAncestor(a,E)&&_.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))},N=l(q.nodes({children:t},{pass:F}));try{for(N.s();!(g=N.n()).done;){var B=g.value;B[1].length>0&&F(B)&&A.push(B)}}catch(te){N.e(te)}finally{N.f()}for(var C=[],D=[],T=[],S=!0,I=!1,z=0,M=A;z<M.length;z++){var J=Object(s.a)(M[z],1)[0];_.isElement(J)&&!e.isInline(J)?(S=!1,I=!0,D.push(J)):S?C.push(J):T.push(J)}var W=R.nodes(e,{at:u,match:function(t){return $.isText(t)||R.isInline(e,t)},mode:"highest",voids:i}),L=Object(s.a)(W,1)[0],U=Object(s.a)(L,2)[1],Z=R.isStart(e,u,U),Q=R.isEnd(e,u,U),H=R.pathRef(e,y?V.next(m):m),K=R.pathRef(e,Q?V.next(U):U);ce.splitNodes(e,{at:u,match:function(t){return I?R.isBlock(e,t):$.isText(t)||R.isInline(e,t)},mode:I?"lowest":"highest",voids:i});var X=R.pathRef(e,!Z||Z&&Q?V.next(U):U);if(ce.insertNodes(e,C,{at:X.current,match:function(t){return $.isText(t)||R.isInline(e,t)},mode:"highest",voids:i}),ce.insertNodes(e,D,{at:H.current,match:function(t){return R.isBlock(e,t)},mode:"lowest",voids:i}),ce.insertNodes(e,T,{at:K.current,match:function(t){return $.isText(t)||R.isInline(e,t)},mode:"highest",voids:i}),!n.at){var G;G=T.length>0?V.previous(K.current):D.length>0?V.previous(H.current):V.previous(X.current);var ee=R.end(e,G);ce.select(e,ee)}X.unref(),H.unref(),K.unref()}}}))},insertText:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};R.withoutNormalizing(e,(function(){var r=n.voids,a=void 0!==r&&r,o=n.at,i=void 0===o?e.selection:o;if(i){if(V.isPath(i)&&(i=R.range(e,i)),Y.isRange(i))if(Y.isCollapsed(i))i=i.anchor;else{var s=Y.end(i);if(!a&&R.void(e,{at:s}))return;var c=R.pointRef(e,s);ce.delete(e,{at:i,voids:a}),i=c.unref(),ce.setSelection(e,{anchor:i,focus:i})}if(a||!R.void(e,{at:i})){var u=i,f=u.path,l=u.offset;e.apply({type:"insert_text",path:f,offset:l,text:t})}}}))}});function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(){var e={children:[],operations:[],selection:null,marks:null,isInline:function(){return!1},isVoid:function(){return!1},onChange:function(){},apply:function(t){var n,r=l(R.pathRefs(e));try{for(r.s();!(n=r.n()).done;){var a=n.value;J.transform(a,t)}}catch(k){r.e(k)}finally{r.f()}var o,i=l(R.pointRefs(e));try{for(i.s();!(o=i.n()).done;){var s=o.value;Z.transform(s,t)}}catch(k){i.e(k)}finally{i.f()}var c,u=l(R.rangeRefs(e));try{for(u.s();!(c=u.n()).done;){var f=c.value;H.transform(f,t)}}catch(k){u.e(k)}finally{u.f()}var d,h=new Set,v=[],b=function(e){if(e){var t=e.join(",");h.has(t)||(h.add(t),v.push(e))}},m=p.get(e)||[],O=de(t),y=l(m);try{for(y.s();!(d=y.n()).done;){var w=d.value;b(V.transform(w,t))}}catch(k){y.e(k)}finally{y.f()}var x,j=l(O);try{for(j.s();!(x=j.n()).done;){b(x.value)}}catch(k){j.e(k)}finally{j.f()}p.set(e,v),ce.transform(e,t),e.operations.push(t),R.normalize(e),"set_selection"===t.type&&(e.marks=null),g.get(e)||(g.set(e,!0),Promise.resolve().then((function(){g.set(e,!1),e.onChange(),e.operations=[]})))},addMark:function(t,n){var a=e.selection;if(a)if(Y.isExpanded(a))ce.setNodes(e,Object(r.a)({},t,n),{match:$.isText,split:!0});else{var o=fe({},R.marks(e)||{},Object(r.a)({},t,n));e.marks=o,e.onChange()}},deleteBackward:function(t){var n=e.selection;n&&Y.isCollapsed(n)&&ce.delete(e,{unit:t,reverse:!0})},deleteForward:function(t){var n=e.selection;n&&Y.isCollapsed(n)&&ce.delete(e,{unit:t})},deleteFragment:function(){var t=e.selection;t&&Y.isExpanded(t)&&ce.delete(e)},getFragment:function(){var t=e.selection;return t?q.fragment(e,t):[]},insertBreak:function(){ce.splitNodes(e,{always:!0})},insertFragment:function(t){ce.insertFragment(e,t)},insertNode:function(t){ce.insertNodes(e,t)},insertText:function(t){var n=e.selection,r=e.marks;if(n){if(Y.isCollapsed(n)){var a=R.above(e,{match:function(t){return R.isInline(e,t)},mode:"highest"});if(a){var o=Object(s.a)(a,2)[1];if(R.isEnd(e,n.anchor,o)){var i=R.after(e,o);ce.setSelection(e,{anchor:i,focus:i})}}}if(r){var c=fe({text:t},r);ce.insertNodes(e,c)}else ce.insertText(e,t);e.marks=null}},normalizeNode:function(t){var n=Object(s.a)(t,2),r=n[0],a=n[1];if(!$.isText(r))if(_.isElement(r)&&0===r.children.length){ce.insertNodes(e,{text:""},{at:a.concat(0),voids:!0})}else for(var o=!R.isEditor(r)&&(_.isElement(r)&&(e.isInline(r)||0===r.children.length||$.isText(r.children[0])||e.isInline(r.children[0]))),i=0,c=0;c<r.children.length;c++,i++){var u=r.children[c],f=r.children[c-1],l=c===r.children.length-1;if(($.isText(u)||_.isElement(u)&&e.isInline(u))!==o)ce.removeNodes(e,{at:a.concat(i),voids:!0}),i--;else if(_.isElement(u)){if(e.isInline(u))if(null!=f&&$.isText(f)){if(l){ce.insertNodes(e,{text:""},{at:a.concat(i+1),voids:!0}),i++}}else{ce.insertNodes(e,{text:""},{at:a.concat(i),voids:!0}),i++}}else null!=f&&$.isText(f)&&($.equals(u,f,{loose:!0})?(ce.mergeNodes(e,{at:a.concat(i),voids:!0}),i--):""===f.text?(ce.removeNodes(e,{at:a.concat(i-1),voids:!0}),i--):l&&""===u.text&&(ce.removeNodes(e,{at:a.concat(i),voids:!0}),i--))}},removeMark:function(t){var n=e.selection;if(n)if(Y.isExpanded(n))ce.unsetNodes(e,t,{match:$.isText,split:!0});else{var r=fe({},R.marks(e)||{});delete r[t],e.marks=r,e.onChange()}}};return e},de=function(e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var t=e.path;return V.levels(t);case"insert_node":var n=e.node,r=e.path,o=V.levels(r),i=$.isText(n)?[]:Array.from(q.nodes(n),(function(e){var t=Object(s.a)(e,2)[1];return r.concat(t)}));return[].concat(Object(a.a)(o),Object(a.a)(i));case"merge_node":var c=e.path,u=V.ancestors(c),f=V.previous(c);return[].concat(Object(a.a)(u),[f]);case"move_node":var d=e.path,h=e.newPath;if(V.equals(d,h))return[];var v,p=[],g=[],b=l(V.ancestors(d));try{for(b.s();!(v=b.n()).done;){var m=v.value,O=V.transform(m,e);p.push(O)}}catch(N){b.e(N)}finally{b.f()}var y,w=l(V.ancestors(h));try{for(w.s();!(y=w.n()).done;){var x=y.value,j=V.transform(x,e);g.push(j)}}catch(N){w.e(N)}finally{w.f()}return[].concat(p,g);case"remove_node":var k=e.path,P=V.ancestors(k);return Object(a.a)(P);case"split_node":var E=e.path,A=V.levels(E),F=V.next(E);return[].concat(Object(a.a)(A),[F]);default:return[]}}}}]);
//# sourceMappingURL=d3048c20-070e574b333e0fa63fe6.js.map